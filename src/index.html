<!DOCTYPE html>
<html>
<head>
  <title>Storefront Docs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="VTEX Lab">
  <meta property="og:site_name" content="Docs"/>
  <meta name="description" content="Storefront docs" />

  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat|Source+Sans+Pro:200,400,600">
  <link rel="stylesheet" href="style/style.css">
</head>
<body>

<div class="hero">
  <div class="container">
  <header>
    <h1>Storefront <small>v0.1</small></h1>
    <h2>Storefront é o novo framework de desenvolvimento de apps da VTEX</h2>
    <a href="https://github.com/vtex-apps/" class="btn btn-lg btn-primary">Veja o projeto no GitHub</a>

    <a href="http://basedevmkp.beta.myvtex.com:3000/" target="_blank" class="btn btn-lg btn-primary">LIVE DEMO</a>
  </header>
  </div>
</div>

<div class="social">
  <div class="container">
    <!--
    <ul>
      <li><iframe class="github-btn" src="//vtex.github.io/tortin/github-btn.html?user=vtex&amp;repo=tortin&amp;type=watch&amp;count=true" allowtransparency="true" width="100" height="20" title="Star on GitHub" frameborder="0"></iframe></li>
      <li><iframe class="github-btn" src="//vtex.github.io/tortin/github-btn.html?user=vtex&amp;repo=tortin&amp;type=fork&amp;count=true" allowtransparency="true" width="102" height="20" title="Fork on GitHub" frameborder="0"></iframe></li>
      <li><a href="https://twitter.com/share" class="twitter-share-button" data-via="vtexlab">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
      </li>
    </ul>
     -->
  </div>
</div>

<div class="clipper"></div>

<section class="container content">
  <div class="row">
    <section class="col-md-offset-2 col-md-7" data-markdown>

      ## Índice

      <ul class="doc_toc">
          <li><a href="#intro"><span>0.0</span>Intro</a></li>

          <li><a href="#apps"><span>1.0</span>Apps</a></li>

          <li><a href="#app-architecture"><span>1.1</span>App Architecture</a></li>

          <li><a href="#app-de-tema-app-de-plugin"><span>1.2</span>App de Tema vs. App de Plugin</a></li>

          <li class="soon"><span>1.3</span>Thinking in VTEX Apps</li>

          <li><a href="#criando-sua-primeira-app"><span>1.4</span>Criando sua primeira App</a></li>

          <li><a href="#ambiente-de-desenvolvimento"><span>1.5</span>Ambiente de Desenvolvimento</a></li>

          <li><a href="#tecnologias"><span>2.0</span>Tecnologias</a></li>

          <li><a href="#react"><span>2.1</span>React</a></li>

          <li><a href="#flux"><span>2.2</span>Flux</a></li>

          <li><a href="#toolbelt"><span>2.3</span>Toolbelt</a></li>

          <li><a href="#storefront-sdk"><span>3.0</span>Storefront SDK</a></li>

          <li><a href="#references"><span>4.0</span>References</a></li>

          <li class="soon"><span>4.1</span>Lista de Áreas</li>

          <li class="soon"><span>4.2</span>Lista de Roles</li>

          <li class="soon"><span>4.3</span>Lista de Resources VTEX</li>
      </ul>

    </section>
  </div>
  <hr>
  <div class="row" id="intro">
    <div class="col-md-offset-2 col-md-7" data-markdown>

      ## Intro

      Storefront é o novo framework de desenvolvimento de aplicativos e lojas da VTEX.

      Além de oferecer uma gama de novas ferramentas para desenvolvedores, ele vem acompanhado do Storefront CMS, um novo editor que permite aos usuários da plataforma editarem e configurarem suas lojas de maneira rápida e simplificada.

      O Storefront e o Storefront CMS ainda estão em fase de testes, mas substituirão o atual Portal da VTEX.

    </div>
  </div>
  <hr>
  <div class="row" id="apps">
    <div class="col-md-offset-2 col-md-7" data-markdown>

    ## Apps

    ### O que são Apps

    <p>Para apresentarmos o Storefront, é fundamental falarmos do conceito de App, que é peça-chave na nova arquitetura da VTEX. Uma App é uma aplicação ou sistema que desempenha uma funcionalidade quando instalada em uma loja VTEX. O layout de uma loja nada mais é que uma App de Tema instalada na conta da loja.</p>
    <p>Apps trazem autonomia para lojistas, ao permitir que adicionem novas funcionalidades e customizem o design da loja sem depender diretamente de desenvolvimento por terceiros: a instalação de apps é no Storefront completamente plug & play.</p>
    <p>Por outro lado, o desenvolvimento e comercialização de Apps permitem à agências e desenvolvedores diversificar seu portfolio de produtos e serviços com um sistema de instalação e cobrança sem dores de cabeça.</p>
    <p>As apps podem trazer diversas funcionalidades para o site da loja: uma app de reviews que permite a um cliente avaliar produtos e ler avaliações de terceiros ou até mesmo uma nova app de tema para mudar todo o layout de sua loja em um só clique.</p>

    ### Storefront Framework

    <p>A nova base de desenvolvimento de aplicativos da plataforma VTEX é o StoreFront Framework, que permite a desenvolvedores e agências criar apps e temas editáveis que podem ser instalados automaticamente na loja e configuradas pelo usuário no Storefront CMS.</p>

    ### Storefront CMS

    <p>Com o Storefront CMS, o usuário lojista pode acessar seu site em modo de edição e configurar seus componentes — seja a imagem de um banner, a quantidade de produtos em uma prateleira ou alguma opção de layout do tema.</p>
    <p>Como o Storefront possui uma natureza modular, o modo de edição de duas lojas podem ser completamente diferentes, dependendo dos apps e componentes instalados por cada uma.</p>

    ### Gallery

    <p>A VTEX Gallery permite que desenvolvedores e agências publiquem apps — gratuitos ou pagos — que podem ser facilmente encontrados e instalados por lojistas da VTEX.</p>
    <p>Apps disponibilizados na Gallery são mais poderosos que as antigas extensões da VTEX Store, pois oferecem funcionalidades que podem interagir com todos os sistemas da VTEX.</p>

  </div>
</div>

<hr>

<div class="row" id="app-architecture">
  <div class="col-md-offset-2 col-md-7" data-markdown>


    ## App Architecture

    Uma app no Storefront é estruturada da seguinte maneira:

    ```
    .
    ├── storefront/
    │   ├── assets/
    │   ├── components/
    │   ├── resources/
    │   └── layout.html
    └── meta.json
    ```

    ### Assets

    Nessa pasta estão todos os arquivos estáticos públicos necessários para a app. Isso inclui: arquivos Javascript, CSS, imagens, fontes, etc.

    ### Components

    Os arquivos aqui guardam as definições de componentes. Esses arquivos são enviados para o servidor a são apenas usados por ele.

    ### Resources

    Esses arquivos definem como certas chamadas a API deverão ser resolvidas no servidor.

    ### layout.html

    <p>Esse arquivo é necessário esteja desenvolvendo uma app de tema. Ele define o HTML base de sua loja. Use o arquivo <code>layout.html</code> do storefront-theme como padrão. Em raros casos deve ser necessário alterá-lo.</p>

    </div>
  </div>

<hr>

  <div class="row" id="app-de-tema-app-de-plugin">
    <div class="col-md-offset-2 col-md-7" data-markdown>

    ## App de Tema vs. App de Plugin

    <p>Existem dois tipos de apps: app de tema e app de plugin.</p>

    ### App de Tema

    <p><strong>App de Tema</strong> é aquela que define a fundação de toda a loja: a app de tema define as rotas padrão e todo ou grande parte do layout da loja. </p>

    <p>Ela se diferencia de apps de plugins por ser a única app do Storefront instalada que possui o arquivo layout.html e que define o component React chamado App.</p>

    <p>Como tal, isso significa que você só poderá ter um app de tema instalado em sua loja, e sua loja não conseguirá vender se não tiver tema instalado.</p>

    ### App de Plugin

    <p>Uma <strong>App de Plugin</strong> é uma app que fornece novas funcionalidades a loja, podendo oferecer desde novos componentes na interface a novas rotas com sistemas complexos.</p>

    <p>No contexto do StoreFront, o termo componente se refere a um objeto unitário (contido em um arquivo <code>.jsx</code>) que desempenha uma função e renderiza dados na loja.</p>

    <p>Uma App pode estar estruturada em um único componente (caso seja simples) ou possuir vários componentes que juntos desempenham sua funcionalidade.</p>

    ### Quando fazer um app de tema e quando fazer um app de plugin?

    <p>Desenvolva uma app de tema se você quer desenvolver o layout de uma loja específica ou tema para um segmento de mercado — por exemplo, um tema voltado para lojas de eletrônicos para disponibilizar na Gallery.</p>

    <p>Desenvolva uma app de plugin se sua app fornece uma nova funcionalidade a loja de forma independente, podendo ser instalada opcionalmente.</p>

    </div>
  </div>

  <hr>

  <div class="row" id="thinking-in-vtex-apps">
    <div class="col-md-offset-2 col-md-7" data-markdown>

    ## Thinking in VTEX Apps

    ### Como modelar um problema no paradigma de apps

    <p><span class="soon-badge">Em breve</span></p>


    </div>
  </div>

  <hr>

  <div class="row" id="criando-sua-primeira-app">
    <div class="col-md-offset-2 col-md-7" data-markdown>

    ## Criando sua Primeira App

    ### Estrutura Básica

    <p>Para que sua App seja devidamente configurável dentro do Storefront, ela necessita de uma estrutura de componentes que permita a edição dentro da interface do Storefront.</p>

    <p>Considerando uma App chamada <strong>Banner</strong>, a estrutura ideal contaria com os seguintes componentes mínimos:</p>

    #### components/Banner.jsx

    <p>A renderização padrão do componente — ou seja, a forma como ele irá aparecer na loja quando configurado normalmente. </p>

    <p>Este componente pode estar apenas renderizando outros subcomponentes dentro da App — <code>BannerImage.jsx</code> ou <code>BannerButton.jsx</code>, por exemplo</p>

    #### editors/BannerEditor.jsx

    Componente de admin da sua App — aqui entram os campos e opções cujos dados serão passados para o backend e salvos para alterar a configuração e aparência da loja.

    #### styles/Banner.less

    Para manter a lógica de componentização também no CSS, cada um destes componentes deve possuir um arquivo `.less` com seus estilos específicos: `Banner.less`, `BannerEditor.less`, `BannerButton.less`, etc.

    #### layout.html

    <p><span class="soon-badge">Em breve</span></p>

    #### Registrando um componente

    <p><span class="soon-badge">Em breve</span></p>

    #### Rotas default

    <p><span class="soon-badge">Em breve</span></p>

    #### Definindo uma Rota

    <p><span class="soon-badge">Em breve</span></p>

    #### Areas

    <p><span class="soon-badge">Em breve</span></p>

    #### Roles

    <p><span class="soon-badge">Em breve</span></p>

    </div>
  </div>

  <hr>

  <div class="row" id="ambiente-de-desenvolvimento">
    <div class="col-md-offset-2 col-md-7" data-markdown>

    ## Ambiente de Desenvolvimento

    <p>O desenvolvimento de uma app é realizado localmente através da ferramenta de linha de comando chamada <a href="https://github.com/vtex/toolbelt">Toolbelt</a>, que observa todos os seus arquivos locais e sincroniza com o servidor quando alguma alteração acontece.</p>

    ### Criando uma Sandbox

    <p>Todas as alterações desenvolvidas localmente são enviadas pelo Toolbelt para uma <strong>Sandbox</strong>, um ambiente privado vinculado ao seu VTEX ID que recebe suas alterações e as renderiza em sua loja.</p>

    <p>A Sandbox permite que você teste sua versão local sem interferir na versão em produção — vendo sua App em desenvolvimento como se estivesse instalada em sua loja.</p>

    Em um terminal no diretório deste repositório, inicie os comandos <code>webpack -w</code>, e <code>vtex watch</code> passando o nome da sandbox como primeiro parâmetro.

    <pre>webpack & vtex watch minhasandbox</pre>


    <p>Acesse a URL de desenvolvimento <a href="#">http://sualoja.beta.myvtex.com</a></p>

    <p><strong>Importante</strong>: Substitua <code>sualoja</code> pelo account name de sua loja e <code>minhasandbox</code> pelo nome de sua sandbox.</p>

    ### Testando uma App

    <p>Para usar uma Sandbox, precisamos indicar para o Storefront que iremos utilizar uma nova sandbox. Neste exemplo, usaremos o nome minhasandbox, mas você pode escolher o nome que quiser.</p>

    <p>Faremos isso definindo um cookie especial no seu browser, com o nome <code>vtex_sandbox</code> e o valor <code>vtex/nome-da-sandbox=app-sendo-testado</code>.</p>

    <p>Para isso, baixe uma extensão do navegador que possibilite a alteração dos cookies. Recomendamos o Cookie Inspector. Para criar um novo cookie, abra o Developer Tools e clique na aba Cookies. Clique com o botão direito do mouse e escolha "Add New Cookie".</p>
    <br>
    <p>Edite esse cookie colocando as seguintes propriedades:</p>
    <p><strong>Nome</strong>: <code>vtex_sandbox</code></p>
    <p><strong>Valor</strong>: <code>{vendor}/{nome-da-sandbox}={nome-da-app}+{nome-da-app2}</code>.</p>

    <h3>Publicando sua primeira App</h3>

    <p>Apps podem ter suas versões distribuídas na VTEX Gallery para todos os clientes da plataforma. Os clientes terão acesso a todas as apps publicadas e poderão escolher quais desejam instalar.</p>

    <p>Para publicar uma app configure o arquivo <code>meta.json</code> com a versão da app e digite o comando <code>vtex publish</code>. Caso não esteja autenticado será necessário inserir seu usuário e senha do VTEX ID.</p>

    <pre>
    meta.json
    {
      “name”: “app-name”,
      “version”: “0.2.0”,
       “vendor: : “vtex”
    }
    </pre>

    </div>
  </div>





<div class="clipper-footer"></div>

  <footer>
    <div class="container">
          <div class="pull-left">
            <a href="http://lab.vtex.com.br" title="Designed and maintained by VTEX Lab and contributors">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" width="32" height="32" xml:space="preserve" viewbox="0 0 100 100" class="logo">
              <circle cx="50" cy="49" r="44" class="circle"/>
              <polygon points="59.9 28.3 75.5 28.3 50 81.6 42.2 65.2" class="polygon v-bigger"/>
              <polygon points="39.7 60.1 24.5 28.2 40.1 28.2 47.6 43.7" class="polygon"/>
            </svg>
            </a>
          </div><!-- logo -->

          <div class="pull-left">
            <iframe id="twitter-widget-1" scrolling="no" frameborder="0" allowtransparency="true" src="//platform.twitter.com/widgets/follow_button.1403226798.html#_=1403800489144&amp;id=twitter-widget-1&amp;lang=en&amp;screen_name=vtexlab&amp;show_count=true&amp;show_screen_name=true&amp;size=m" class="twitter-follow-button twitter-follow-button" title="Twitter Follow Button" data-twttr-rendered="true" style="width: 237px; height: 20px;"></iframe>
          </div><!-- twitter -->

          <div class="pull-left">
            <p>Code licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License v2.0</a> and documentation under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
          </div><!-- license -->

          <div class="pull-right">
            <a href="http://vtex.github.io/tortin">Get <strong>Tortin</strong> Theme</a>
          </div><!-- please? -->
    </div>
  </footer>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43760863-5', 'auto');
  ga('send', 'pageview');

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js"></script>
<script src="script/data-markdown.js"></script>
</body>
</html>
